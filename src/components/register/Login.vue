<template>    <div>        <br>        <h2 v-if="user.userId == -1">Fazendo login</h2>        <h2 v-else>Logado como {{user.username}}</h2>        <br><input v-model="username" type="text" placeholder="Usuário" autofocus required />        <br><input v-model="password" type="password" placeholder="Senha" required />        <br><button v-on:click="getAccessToken()" class="btn-large disabled">Login</button>    </div></template><script>    import { mapGetters } from 'vuex'    import {getToken} from '../.././services/token.js'    import api from '../../services/api.js'    export default {            name: 'Login',        data: function () {            return {                username: null,                password: null,            }        },        computed: {            ...mapGetters([                'user',                'token'        ])        },                methods: {                    getAccessToken: function () {                                                const headers = {"Content-Type": "application/json"}                        const data = {                            username: this.username,                            "password": this.password                        }                        api                            .post("api/user/", data, { headers })                            .then(response => {                                this.$store.commit("addUser", {                                    username: response.data.username,                                    userId: response.data.user_id                                });                            });                        getToken(this.username, this.password)                            .then(response => {                                this.$store.commit("addToken", {                                    access: response.data.access,                                    refresh: response.data.refresh                                });                                this.$router.push({path: '/'});                            });                    }            }}</script>